# Мини-блог на FastAPI с регистрацией, аутентификацией и авторизацией

Этот проект представляет собой мини-блог, разработанный на основе **FastAPI**, с реализацией системы регистрации, аутентификации и авторизации пользователей. Проект включает модульную архитектуру, взаимодействие с базой данных с использованием **SQLAlchemy**. Для управления миграциями используется **Alembic**.

## Основные возможности

1. **Управление пользователями:**
   - Регистрация и вход пользователей.
   - Безопасное хеширование паролей с использованием **bcrypt**.
   - Авторизация с использованием **JWT** токенов через библиотеку **python-jose**.
   - Защита эндпоинтов с помощью ролей и зависимостей.

2. **Функционал блога:**
   - Добавление записей:
     - Создание нового блога с заголовком, текстом и прикрепленными тегами.
     - Возможность сохранять запись как черновик.
   - Удаление записей:
     - Автор может удалить свои записи.
   - Просмотр записей:
     - Получение списка всех опубликованных блогов.
     - Просмотр конкретной записи.
     - Фильтрация записей по тегам.
   - Дерево тегов:
     - Система тегов реализована через отношение Many-to-Many.
     - Автоматическое создание дерева тегов.

3. **Модульная архитектура:**
   - Проект разделен на модули для упрощения поддержки и масштабирования.

## Стек технологий

- **Веб-фреймворк:** FastAPI
- **ORM:** SQLAlchemy с асинхронной поддержкой через aiosqlite
- **База данных:** SQLite (можно заменить на любую SQL-СУБД)
- **Миграции:** Alembic
- **Аутентификация:** bcrypt для хеширования паролей, python-jose для работы с JWT токенами
- **Фронтенд:** HTML + CSS + JS (с использованием Jinja2)


## Зависимости

- **Основные:** `fastapi`, `pydantic`, `uvicorn`
- **Для работы с базой данных:** `SQLAlchemy`, `aiosqlite`, `alembic`
- **Для аутентификации:** `bcrypt`, `passlib[bcrypt]`, `python-jose`
- **Шаблонизатор:** `jinja2`

Установить зависимости можно командой:

```bash
pip install -r requirements.txt
```

## Настройка

1. Склонируйте репозиторий:

   ```bash
   git clone https://github.com/Danchik10/Blog.git .
   ```

2. Настройте файл `.env`:

   ```env
   SECRET_KEY=supersecretkey
   ALGORITHM=HS256
   ```

3. Создайте и примените миграции базы данных:

   ```bash
   cd app
   alembic init -t async migration
   alembic revision --autogenerate -m "Initial migration"
   alembic upgrade head
   ```

4. Запустите приложение:

   ```bash
   uvicorn main:app             
   ```

## Развитие проекта

Возможные направления для развития:
- Подключение более мощной SQL-СУБД (например, PostgreSQL).
- Реализация системы комментариев.
- Добавление ролей пользователей (например, администратор, редактор).
